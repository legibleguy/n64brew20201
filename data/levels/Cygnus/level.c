#include "level.h"
#include "../../level_themes/Snow/theme.h"
#include "sk64/skelatool_defs.h"
#include <ultra64.h>

Vtx Cygnus_GeometryWalls_color[] = {
    {{{4757, 0, -2173}, 0, {3527, -345}, {255, 255, 255, 255}}},
    {{{5114, 399, -2564}, 0, {3759, -600}, {255, 255, 255, 255}}},
    {{{1331, 399, -3798}, 0, {1296, -1403}, {255, 255, 255, 255}}},
    {{{1251, 0, -3376}, 0, {1244, -1128}, {255, 255, 255, 255}}},
    {{{-3457, 0, 828}, 0, {-1821, 1608}, {255, 255, 255, 255}}},
    {{{-3881, 400, 1075}, 0, {-2097, 1769}, {255, 255, 255, 255}}},
    {{{-2495, 400, 1920}, 0, {-1195, 2319}, {255, 255, 255, 255}}},
    {{{-2250, 0, 1480}, 0, {-1035, 2033}, {255, 255, 255, 255}}},
    {{{1251, 0, -3376}, 0, {1244, -1128}, {255, 255, 255, 255}}},
    {{{1331, 399, -3798}, 0, {1296, -1403}, {255, 255, 255, 255}}},
    {{{-1585, 399, -3849}, 0, {-602, -1436}, {255, 255, 255, 255}}},
    {{{-1317, 0, -3355}, 0, {-428, -1115}, {255, 255, 255, 255}}},
    {{{-2250, 0, 1480}, 0, {-1035, 2033}, {255, 255, 255, 255}}},
    {{{-2495, 400, 1920}, 0, {-1195, 2319}, {255, 255, 255, 255}}},
    {{{-491, 399, 3383}, 0, {109, 3272}, {255, 255, 255, 255}}},
    {{{-395, 0, 3045}, 0, {172, 3052}, {255, 255, 255, 255}}},
    {{{-1317, 0, -3355}, 0, {-428, -1115}, {255, 255, 255, 255}}},
    {{{-1585, 399, -3849}, 0, {-602, -1436}, {255, 255, 255, 255}}},
    {{{-2584, 399, -2871}, 0, {-1252, -799}, {255, 255, 255, 255}}},
    {{{-2153, 0, -2560}, 0, {-972, -597}, {255, 255, 255, 255}}},
    {{{-395, 0, 3045}, 0, {172, 3052}, {255, 255, 255, 255}}},
    {{{-491, 399, 3383}, 0, {109, 3272}, {255, 255, 255, 255}}},
    {{{428, 400, 3541}, 0, {708, 3375}, {255, 255, 255, 255}}},
    {{{435, 0, 3187}, 0, {713, 3144}, {255, 255, 255, 255}}},
    {{{-2153, 0, -2560}, 0, {-972, -597}, {255, 255, 255, 255}}},
    {{{-2584, 399, -2871}, 0, {-1252, -799}, {255, 255, 255, 255}}},
    {{{-4084, 400, -520}, 0, {-2229, 730}, {255, 255, 255, 255}}},
    {{{-3641, 0, -481}, 0, {-1941, 755}, {255, 255, 255, 255}}},
    {{{1230, 0, 2433}, 0, {1231, 2653}, {255, 255, 255, 255}}},
    {{{1542, 399, 2723}, 0, {1433, 2842}, {255, 255, 255, 255}}},
    {{{2146, 400, 1264}, 0, {1827, 1892}, {255, 255, 255, 255}}},
    {{{1699, 0, 843}, 0, {1536, 1618}, {255, 255, 255, 255}}},
    {{{-3457, 0, 828}, 0, {-1821, 1608}, {255, 255, 255, 255}}},
    {{{-3641, 0, -481}, 0, {-1941, 755}, {255, 255, 255, 255}}},
    {{{-4084, 400, -520}, 0, {-2229, 730}, {255, 255, 255, 255}}},
    {{{-3881, 400, 1075}, 0, {-2097, 1769}, {255, 255, 255, 255}}},
    {{{1699, 0, 843}, 0, {1536, 1618}, {255, 255, 255, 255}}},
    {{{2146, 400, 1264}, 0, {1827, 1892}, {255, 255, 255, 255}}},
    {{{5530, 400, 324}, 0, {4030, 1280}, {255, 255, 255, 255}}},
    {{{5022, 0, -94}, 0, {3699, 1008}, {255, 255, 255, 255}}},
    {{{5022, 0, -94}, 0, {3699, 1008}, {255, 255, 255, 255}}},
    {{{5530, 400, 324}, 0, {4030, 1280}, {255, 255, 255, 255}}},
    {{{5938, 400, -1447}, 0, {4296, 126}, {255, 255, 255, 255}}},
    {{{5369, 0, -1296}, 0, {3925, 224}, {255, 255, 255, 255}}},
    {{{5369, 0, -1296}, 0, {3925, 224}, {255, 255, 255, 255}}},
    {{{5938, 400, -1447}, 0, {4296, 126}, {255, 255, 255, 255}}},
    {{{5114, 399, -2564}, 0, {3759, -600}, {255, 255, 255, 255}}},
    {{{4757, 0, -2173}, 0, {3527, -345}, {255, 255, 255, 255}}},
    {{{435, 0, 3187}, 0, {713, 3144}, {255, 255, 255, 255}}},
    {{{428, 400, 3541}, 0, {708, 3375}, {255, 255, 255, 255}}},
    {{{1542, 399, 2723}, 0, {1433, 2842}, {255, 255, 255, 255}}},
    {{{1230, 0, 2433}, 0, {1231, 2653}, {255, 255, 255, 255}}},
};


Vtx Cygnus_GeometryGround_color[] = {
    {{{435, 0, 3187}, 0, {695, 3523}, {255, 255, 255, 255}}},
    {{{214, 0, 2409}, 0, {524, 2918}, {145, 218, 250, 255}}},
    {{{-395, 0, 3045}, 0, {50, 3412}, {255, 255, 255, 255}}},
    {{{-1012, 0, 592}, 0, {-429, 1507}, {255, 255, 255, 255}}},
    {{{-717, 0, -56}, 0, {-199, 1003}, {145, 218, 250, 255}}},
    {{{-2758, 0, 38}, 0, {-1785, 1076}, {145, 218, 250, 255}}},
    {{{-2864, 0, -622}, 0, {-1867, 563}, {255, 255, 255, 255}}},
    {{{-1590, 0, -752}, 0, {-878, 462}, {255, 255, 255, 255}}},
    {{{-2153, 0, -2560}, 0, {-1315, -942}, {255, 255, 255, 255}}},
    {{{-2250, 0, 1480}, 0, {-1390, 2196}, {255, 255, 255, 255}}},
    {{{-3457, 0, 828}, 0, {-2328, 1690}, {255, 255, 255, 255}}},
    {{{-3641, 0, -481}, 0, {-2471, 672}, {255, 255, 255, 255}}},
    {{{-398, 0, 2268}, 0, {47, 2808}, {255, 255, 255, 255}}},
    {{{-1130, 0, -2828}, 0, {-520, -1150}, {145, 218, 250, 255}}},
    {{{-1317, 0, -3355}, 0, {-666, -1560}, {255, 255, 255, 255}}},
    {{{1230, 0, 2433}, 0, {1313, 2937}, {255, 255, 255, 255}}},
    {{{-239, 0, -898}, 0, {171, 348}, {255, 255, 255, 255}}},
    {{{4, 0, -2717}, 0, {360, -1064}, {255, 255, 255, 255}}},
    {{{1251, 0, -3376}, 0, {1329, -1576}, {255, 255, 255, 255}}},
    {{{731, 0, -853}, 0, {925, 383}, {145, 218, 250, 255}}},
    {{{330, 0, 524}, 0, {613, 1454}, {255, 255, 255, 255}}},
    {{{961, 0, 1720}, 0, {1103, 2383}, {255, 255, 255, 255}}},
    {{{1699, 0, 843}, 0, {1677, 1702}, {255, 255, 255, 255}}},
    {{{2950, 0, -693}, 0, {2649, 508}, {145, 218, 250, 255}}},
    {{{5022, 0, -94}, 0, {4259, 973}, {255, 255, 255, 255}}},
    {{{4603, 0, -1353}, 0, {3933, -4}, {145, 218, 250, 255}}},
    {{{5369, 0, -1296}, 0, {4528, 39}, {255, 255, 255, 255}}},
    {{{4757, 0, -2173}, 0, {4053, -641}, {255, 255, 255, 255}}},
    {{{908, 0, -1915}, 0, {1062, -441}, {255, 255, 255, 255}}},
    {{{3127, 0, -1754}, 0, {2786, -316}, {255, 255, 255, 255}}},
};


Gfx Cygnus_model_gfx[] = {
    // Material SnowGround
    gsSPDisplayList(Snow_SnowGround),
    // End Material SnowGround
    gsSPVertex(&Cygnus_GeometryWalls_color[0], 32, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 6, 0, 4, 6, 7, 0),
    gsSP2Triangles(8, 9, 10, 0, 8, 10, 11, 0),
    gsSP2Triangles(12, 13, 14, 0, 12, 14, 15, 0),
    gsSP2Triangles(16, 17, 18, 0, 16, 18, 19, 0),
    gsSP2Triangles(20, 21, 22, 0, 20, 22, 23, 0),
    gsSP2Triangles(24, 25, 26, 0, 24, 26, 27, 0),
    gsSP2Triangles(28, 29, 30, 0, 28, 30, 31, 0),
    gsSPVertex(&Cygnus_GeometryWalls_color[32], 20, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 6, 0, 4, 6, 7, 0),
    gsSP2Triangles(8, 9, 10, 0, 8, 10, 11, 0),
    gsSP2Triangles(12, 13, 14, 0, 12, 14, 15, 0),
    gsSP2Triangles(16, 17, 18, 0, 16, 18, 19, 0),
    // Material SnowGround
    gsSPDisplayList(Snow_SnowGround),
    // End Material SnowGround
    gsSPVertex(&Cygnus_GeometryGround_color[0], 30, 0),
    gsSP2Triangles(0, 1, 2, 0, 3, 4, 5, 0),
    gsSP2Triangles(6, 7, 8, 0, 9, 5, 10, 0),
    gsSP2Triangles(11, 10, 5, 0, 7, 6, 5, 0),
    gsSP2Triangles(1, 3, 12, 0, 7, 4, 13, 0),
    gsSP2Triangles(8, 11, 6, 0, 13, 14, 8, 0),
    gsSP2Triangles(9, 2, 12, 0, 15, 1, 0, 0),
    gsSP2Triangles(12, 2, 1, 0, 16, 17, 13, 0),
    gsSP2Triangles(13, 17, 14, 0, 14, 17, 18, 0),
    gsSP2Triangles(16, 4, 19, 0, 1, 20, 4, 0),
    gsSP2Triangles(1, 15, 21, 0, 22, 21, 15, 0),
    gsSP2Triangles(21, 22, 20, 0, 19, 4, 20, 0),
    gsSP2Triangles(20, 22, 19, 0, 19, 22, 23, 0),
    gsSP2Triangles(22, 24, 23, 0, 23, 24, 25, 0),
    gsSP2Triangles(24, 26, 25, 0, 27, 25, 26, 0),
    gsSP2Triangles(23, 28, 19, 0, 25, 29, 23, 0),
    gsSP2Triangles(25, 27, 29, 0, 18, 29, 27, 0),
    gsSP2Triangles(29, 18, 28, 0, 18, 17, 28, 0),
    gsSP2Triangles(16, 19, 28, 0, 3, 5, 9, 0),
    gsSP2Triangles(11, 5, 6, 0, 7, 5, 4, 0),
    gsSP2Triangles(1, 4, 3, 0, 7, 13, 8, 0),
    gsSP2Triangles(9, 12, 3, 0, 16, 13, 4, 0),
    gsSP2Triangles(1, 21, 20, 0, 23, 29, 28, 0),
    gsSP1Triangle(16, 28, 17, 0),
    // Begin decor
    gsSPDisplayList(Snow_Gift),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 4, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_GiftDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 9, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_GiftDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 10, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_GiftDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 13, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_GiftDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 14, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_GiftDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 6, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_PoleDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Snow_House),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 5, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_HouseDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 11, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_HouseDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 12, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_HouseDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Snow_Snow),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 0, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_Rock002DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 1, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_Rock003DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 2, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_Rock003DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 3, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_Rock003DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Snow_SnowMiscColors),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 7, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_SackDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 8, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Snow_SledDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPEndDisplayList(),
};
struct BaseDefinition Cygnus_Bases[] = {
    {.position = {4602.01, -1343.32}, .startingTeam = TEAM(0)},
    {.position = {-2772.41, 39.325}, .startingTeam = TEAM(1)},
    {.position = {-733.676, -58.9875}, .startingTeam = TEAM_NONE},
    {.position = {-1107.26, -2821.57}, .startingTeam = TEAM_NONE},
    {.position = {210.125, 2447.98}, .startingTeam = TEAM_NONE},
    {.position = {1610.83, -727.137}, .startingTeam = TEAM_NONE},
};

struct Vector2 Cygnus_StartingPositions[] = {
    {4602.01, -1343.32},
    {-2772.41, 39.325},
};

struct SceneBoundary Cygnus_Boundary[] = {
    {{-1317.37, -3355.98}, {0.00793622, 0.999969}, 2568.73},
    {{1251.27, -3376.37}, {-0.324465, 0.945898}, 3706.96},
    {{4757.68, -2173.59}, {-0.820127, 0.572182}, 1068.86},
    {{5369.26, -1296.99}, {-0.960907, -0.276872}, 1251.71},
    {{5022.7, -94.2085}, {-0.2716, -0.96241}, 3452.72},
    {{1699.77, 843.552}, {-0.959169, -0.282832}, 1657.8},
    {{1230.89, 2433.67}, {-0.68826, -0.725464}, 1095.93},
    {{435.83, 3187.95}, {0.169269, -0.98557}, 843.053},
    {{-395.058, 3045.25}, {0.644755, -0.76439}, 2426.95},
    {{-2250.19, 1480.46}, {0.475253, -0.879849}, 1372.65},
    {{-3457.91, 828.108}, {0.990329, -0.138739}, 1322.44},
    {{-3641.39, -481.544}, {0.813194, 0.581992}, 2557.05},
    {{-2153.2, -2560.93}, {0.689214, 0.724558}, 1153.57},
};

struct DecorDefinition Cygnus_Decor[] = {
    {{-1699.99, 0, 1677.04}, {-8.9407e-08, -0.369845, -1.49012e-08, 0.929093}, 1, ROCK002_DECOR_ID},
    {{1309.66, 0, -2388.19}, {5.06639e-07, -0.686102, 4.76837e-07, 0.727505}, 1, ROCK003_DECOR_ID},
    {{2493.82, 0, -1794.93}, {8.9407e-08, -0.335257, 4.47035e-08, 0.942127}, 0.576363, ROCK003_DECOR_ID},
    {{380.961, 0, -1759.61}, {-2.98023e-08, 0.947012, -8.9407e-08, -0.321197}, 0.480579, ROCK003_DECOR_ID},
    {{-142.427, 0, -1033.14}, {-2.98023e-08, 0.296008, 0, 0.955186}, 1.76401, GIFT_DECOR_ID},
    {{2399.74, 0, 46.3327}, {2.08616e-07, -0.623096, 8.9407e-08, 0.782146}, 1, HOUSE_DECOR_ID},
    {{3532.82, 0, -604.89}, {0, 0, 0, 1}, 1, POLE_DECOR_ID},
    {{-328.54, 0, -644.608}, {0, 0, 0, 1}, 1, SACK_DECOR_ID},
    {{1957.66, 0, 244.629}, {-8.9407e-08, 0.140778, 7.45058e-09, 0.990041}, 1, SLED_DECOR_ID},
    {{-83.4396, 0, -708.708}, {-2.98023e-08, 0.296008, 1.49012e-08, 0.955185}, 1.15181, GIFT_DECOR_ID},
    {{-398.04, 0, -856.177}, {-5.96046e-08, 0.296008, 1.49012e-08, 0.955185}, 0.886825, GIFT_DECOR_ID},
    {{3198.2, 0, -140.54}, {2.08616e-07, -0.623096, 8.9407e-08, 0.782146}, 1, HOUSE_DECOR_ID},
    {{4066.63, 0, -304.394}, {2.08616e-07, -0.650099, 1.19209e-07, 0.75985}, 1, HOUSE_DECOR_ID},
    {{-1319.33, 0, 829.656}, {-2.98023e-08, 0.296008, 1.49012e-08, 0.955185}, 1.15181, GIFT_DECOR_ID},
    {{-1948.53, 0, -1333.22}, {-5.96046e-08, 0.296008, 1.49012e-08, 0.955185}, 3.0983, GIFT_DECOR_ID},
};
struct Vector3 Cygnus_PathingNodes[] = {
    {-730.594, 0.0f, -47.7133},
    {1605.31, 0.0f, -708.374},
    {-2775.89, 0.0f, 50.5993},
    {219.76, 0.0f, 2489.14},
    {-1123.84, 0.0f, -2808.66},
    {4612.26, 0.0f, -1302.97},
    {192.757, 0.0f, -1322.17},
    {-1364.51, 0.0f, -1010.72},
    {-1422.45, 0.0f, 1130.07},
};
char Cygnus_BasesPathNodes[] = {
    5,
    2,
    0,
    4,
    3,
    1,
};
unsigned short Cygnus_NodeDistances[] = {
    0, 2427, 2047, 2709, 2788, 5492, 3967, 3813, 3778, 
    2427, 0, 4475, 3484, 3525, 3065, 1540, 5339, 5616, 
    2047, 4475, 0, 3862, 3579, 7540, 5565, 1765, 1731, 
    2709, 3484, 3862, 0, 5497, 6549, 5024, 5628, 2131, 
    2788, 3525, 3579, 5497, 0, 6591, 1985, 1813, 5311, 
    5492, 3065, 7540, 6549, 6591, 0, 4605, 8405, 8681, 
    3967, 1540, 5565, 5024, 1985, 4605, 0, 3799, 7156, 
    3813, 5339, 1765, 5628, 1813, 8405, 3799, 0, 3497, 
    3778, 5616, 1731, 2131, 5311, 8681, 7156, 3497, 0, 
};
char Cygnus_NextNode[] = {
    0, 1, 2, 3, 4, 1, 1, 2, 2, 
    0, 1, 0, 3, 6, 5, 6, 6, 3, 
    0, 0, 2, 8, 7, 0, 7, 7, 8, 
    0, 1, 8, 3, 0, 1, 1, 8, 8, 
    0, 6, 7, 0, 4, 6, 6, 7, 7, 
    1, 1, 1, 1, 1, 5, 1, 1, 1, 
    1, 1, 4, 1, 4, 1, 6, 4, 1, 
    2, 4, 2, 2, 4, 4, 4, 7, 2, 
    2, 3, 2, 3, 2, 3, 3, 2, 8, 
};
struct LevelDefinition Cygnus_Definition = {
    .maxPlayerCount = 2,
    .playerStartLocations = Cygnus_StartingPositions,
    .baseCount = 6,
    .decorCount = 15,
    .bases = Cygnus_Bases,
    .decor = Cygnus_Decor,
    .levelBoundaries = {{-3641.39, -3376.37}, {5369.26, 3187.95}},
    .sceneRender = Cygnus_model_gfx,
    .theme = &SnowTheme,
    .staticScene = {Cygnus_Boundary, 13},
    .pathfinding = {.nodeCount = 9, .baseNodes = Cygnus_BasesPathNodes, .nodeDistances = Cygnus_NodeDistances, .nodePositions = Cygnus_PathingNodes, .nextNode = Cygnus_NextNode},
    .aiDifficulty = 1,
};

