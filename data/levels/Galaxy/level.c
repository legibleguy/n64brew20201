#include "level.h"
#include "../../level_themes/Mars/theme.h"
#include "sk64/skelatool_defs.h"
#include <ultra64.h>

Vtx Galaxy_Grid_001_color[] = {
    {{{-5534, 0, 2993}, 0, {-763, 8}, {203, 98, 97, 255}}},
    {{{-6212, 524, 3369}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{-1630, 524, 4176}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{-1272, 0, 3226}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{-1630, 524, 4176}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{-6212, 524, 3369}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{-7075, 524, 3868}, 0, {-761, 991}, {203, 98, 97, 255}}},
    {{{-2160, 524, 5271}, 0, {735, 1012}, {202, 93, 92, 255}}},
    {{{3096, 524, 5455}, 0, {2002, 996}, {202, 92, 91, 255}}},
    {{{2753, 524, 4848}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{-1272, 0, 3226}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{-1630, 524, 4176}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{2753, 524, 4848}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{2434, 0, 4276}, 0, {1999, -16}, {202, 92, 91, 255}}},
    {{{5096, 0, -2945}, 0, {-763, 8}, {203, 98, 97, 255}}},
    {{{5446, 0, 1449}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{6442, 524, 1643}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{5772, 524, -3326}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{6442, 524, 1643}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{2754, 524, 4848}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{3091, 524, 5458}, 0, {2002, 996}, {202, 92, 91, 255}}},
    {{{7653, 524, 1765}, 0, {735, 1012}, {202, 93, 92, 255}}},
    {{{6650, 524, -3799}, 0, {-761, 991}, {203, 98, 97, 255}}},
    {{{5772, 524, -3326}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{5446, 0, 1449}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{2434, 0, 4276}, 0, {1999, -16}, {202, 92, 91, 255}}},
    {{{2754, 524, 4848}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{6442, 524, 1643}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{-5534, 0, 2993}, 0, {-763, 8}, {203, 98, 97, 255}}},
    {{{-5967, 0, -1354}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{-6964, 524, -1548}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{-6209, 524, 3374}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{-6964, 524, -1548}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{-2870, 524, -5219}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{-3208, 524, -5829}, 0, {2002, 996}, {202, 92, 91, 255}}},
    {{{-8175, 524, -1670}, 0, {735, 1012}, {202, 93, 92, 255}}},
    {{{-7087, 524, 3847}, 0, {-761, 991}, {203, 98, 97, 255}}},
    {{{-6209, 524, 3374}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{-5967, 0, -1354}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{-2551, 0, -4647}, 0, {1999, -16}, {202, 92, 91, 255}}},
    {{{-2870, 524, -5219}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{-6964, 524, -1548}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{5096, 0, -2945}, 0, {-763, 8}, {203, 98, 97, 255}}},
    {{{5774, 524, -3321}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{1984, 524, -4360}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{1627, 0, -3410}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{1984, 524, -4360}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{5774, 524, -3321}, 0, {-764, 542}, {203, 98, 97, 255}}},
    {{{6638, 524, -3821}, 0, {-761, 991}, {203, 98, 97, 255}}},
    {{{2515, 524, -5455}, 0, {735, 1012}, {202, 93, 92, 255}}},
    {{{-3213, 524, -5826}, 0, {2002, 996}, {202, 92, 91, 255}}},
    {{{-2870, 524, -5219}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{1627, 0, -3410}, 0, {358, 5}, {202, 93, 92, 255}}},
    {{{1984, 524, -4360}, 0, {559, 555}, {202, 93, 92, 255}}},
    {{{-2870, 524, -5219}, 0, {2000, 536}, {202, 92, 91, 255}}},
    {{{-2551, 0, -4647}, 0, {1999, -16}, {202, 92, 91, 255}}},
};


Vtx Galaxy_Grid_color[] = {
    {{{6427, 0, 1616}, 0, {5626, 1935}, {202, 93, 92, 255}}},
    {{{-6988, 0, -1577}, 0, {-4568, -491}, {202, 93, 92, 255}}},
    {{{-6175, 0, 3407}, 0, {-3950, 3297}, {202, 93, 92, 255}}},
    {{{2749, 0, 4878}, 0, {2831, 4415}, {202, 93, 92, 255}}},
    {{{5846, 0, -3349}, 0, {5185, -1837}, {202, 93, 92, 255}}},
    {{{-2962, 0, -5285}, 0, {-1508, -3308}, {202, 93, 92, 255}}},
};


Gfx Galaxy_model_gfx[] = {
    // Material Rock
    gsSPDisplayList(Mars_Rock),
    // End Material Rock
    gsSPVertex(&Galaxy_Grid_001_color[0], 32, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 6, 0, 7, 4, 6, 0),
    gsSP2Triangles(4, 7, 8, 0, 9, 4, 8, 0),
    gsSP2Triangles(10, 11, 12, 0, 10, 12, 13, 0),
    gsSP2Triangles(14, 15, 16, 0, 14, 16, 17, 0),
    gsSP2Triangles(18, 19, 20, 0, 21, 18, 20, 0),
    gsSP2Triangles(18, 21, 22, 0, 23, 18, 22, 0),
    gsSP2Triangles(24, 25, 26, 0, 24, 26, 27, 0),
    gsSP2Triangles(28, 29, 30, 0, 28, 30, 31, 0),
    gsSPVertex(&Galaxy_Grid_001_color[32], 24, 0),
    gsSP2Triangles(0, 1, 2, 0, 3, 0, 2, 0),
    gsSP2Triangles(0, 3, 4, 0, 5, 0, 4, 0),
    gsSP2Triangles(6, 7, 8, 0, 6, 8, 9, 0),
    gsSP2Triangles(10, 11, 12, 0, 10, 12, 13, 0),
    gsSP2Triangles(14, 15, 16, 0, 17, 14, 16, 0),
    gsSP2Triangles(14, 17, 18, 0, 19, 14, 18, 0),
    gsSP2Triangles(20, 21, 22, 0, 20, 22, 23, 0),
    // Material Ground
    gsSPDisplayList(Mars_Ground),
    // End Material Ground
    gsSPVertex(&Galaxy_Grid_color[0], 6, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 1, 0, 4, 1, 0, 0),
    // Begin decor
    gsSPDisplayList(Mars_Crate),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 3, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 8, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 9, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Mars_Rock),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 1, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock002DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 2, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock003DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 7, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock003DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 0, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock004DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Mars_SetTextures1),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 4, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_ConsolesDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 5, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_DishBaseDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 6, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_SearchlightDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPEndDisplayList(),
};
struct BaseDefinition Galaxy_Bases[] = {
    {.position = {-4426.73, 2324.66}, .startingTeam = TEAM(0)},
    {.position = {4426.73, -2324.66}, .startingTeam = TEAM(1)},
    {.position = {0, 0}, .startingTeam = TEAM_NONE},
    {.position = {1716.7, 1320.8}, .startingTeam = TEAM_NONE},
    {.position = {-1716.7, -1320.8}, .startingTeam = TEAM_NONE},
    {.position = {3546.65, 1160.36}, .startingTeam = TEAM_NONE},
    {.position = {-3546.65, -1160.36}, .startingTeam = TEAM_NONE},
    {.position = {4780.88, -364.339}, .startingTeam = TEAM_NONE},
    {.position = {-4780.88, 364.339}, .startingTeam = TEAM_NONE},
};

struct Vector2 Galaxy_StartingPositions[] = {
    {-4426.73, 2324.66},
    {4426.73, -2324.66},
};

struct SceneBoundary Galaxy_Boundary[] = {
    {{-2559.35, -4658.42}, {-0.288922, 0.957353}, 4396.1},
    {{1649.27, -3388.29}, {-0.130494, 0.991449}, 3503},
    {{5122.31, -2931.17}, {-0.997259, 0.0739834}, 4422.51},
    {{5449.5, 1479.22}, {-0.685033, -0.728512}, 4121.1},
    {{2447.23, 4302.31}, {0.283268, -0.959041}, 3866.74},
    {{-1261.13, 3206.99}, {0.0572187, -0.998362}, 4257.34},
    {{-5511.49, 2963.39}, {0.994372, -0.105948}, 4338.61},
    {{-5971.16, -1350.8}, {0.696059, 0.717985}, 4751.92},
};

struct DecorDefinition Galaxy_Decor[] = {
    {{1489.61, 0, 3513.67}, {0, -0.250773, -2.98023e-08, 0.968046}, 1, ROCK004_DECOR_ID},
    {{-1950.83, 0, -3280.9}, {5.96046e-08, -0.312721, 2.98023e-08, 0.949845}, 1, ROCK002_DECOR_ID},
    {{2178.09, 0, -1251.8}, {0, 0.231248, 1.49012e-08, 0.972895}, 1.23187, ROCK003_DECOR_ID},
    {{-661.182, 0, 2481.43}, {-2.98023e-08, 0.0734644, 0, 0.997298}, 1, CRATE_DECOR_ID},
    {{-70.2165, 0, -1415.74}, {-5.96046e-08, -0.498027, -2.98023e-08, 0.867162}, 1, CONSOLES_DECOR_ID},
    {{-1906.71, 0, -1796.96}, {0, 0, 0, 1}, 1, DISHBASE_DECOR_ID},
    {{1550.28, 0, -2099.16}, {-2.98023e-08, 0.23487, -7.45058e-09, 0.972027}, 1, SEARCHLIGHT_DECOR_ID},
    {{-2177.31, 0, 861.376}, {-1.78814e-07, 0.723704, -2.68221e-07, -0.69011}, 1.23187, ROCK003_DECOR_ID},
    {{-741.837, 0, 2997.63}, {-2.98023e-08, 0.0734644, 0, 0.997298}, 1, CRATE_DECOR_ID},
    {{-354.69, 0, 2691.14}, {-2.98023e-08, 0.0734644, 0, 0.997298}, 1, CRATE_DECOR_ID},
};
struct Vector3 Galaxy_PathingNodes[] = {
    {-7.43268, 0.0f, 1.74329},
    {-1717.51, 0.0f, -1341.77},
    {-3563.76, 0.0f, -1143.94},
    {1717.51, 0.0f, 1341.77},
    {3563.76, 0.0f, 1143.94},
    {4784.23, 0.0f, -389.326},
    {-4784.23, 0.0f, 389.326},
    {-4462.92, 0.0f, 2301},
    {4462.92, 0.0f, -2301},
    {2864.08, 0.0f, -6.91867},
    {-617.664, 0.0f, 1632.62},
    {1447.48, 0.0f, -2711.56},
    {-3011.55, 0.0f, -84.1426},
};
char Galaxy_BasesPathNodes[] = {
    7,
    8,
    0,
    3,
    1,
    4,
    2,
    5,
    6,
};
unsigned short Galaxy_NodeDistances[] = {
    0, 2174, 3736, 2184, 4041, 4829, 4840, 5644, 5667, 2871, 1741, 3078, 3005, 
    2174, 0, 1856, 4359, 6215, 7004, 3521, 4596, 6491, 5046, 3916, 3448, 1804, 
    3736, 1856, 0, 5920, 7777, 8565, 1959, 3560, 8348, 6607, 5477, 5305, 3661, 
    2184, 4359, 5920, 0, 1856, 3521, 7024, 6256, 5417, 5055, 2353, 5263, 5189, 
    4041, 6215, 7777, 1856, 0, 1959, 8881, 8112, 3560, 3917, 4210, 6603, 7046, 
    4829, 7004, 8565, 3521, 1959, 0, 9669, 9709, 1938, 1957, 5806, 4981, 7834, 
    4840, 3521, 1959, 7024, 8881, 9669, 0, 1938, 10013, 7711, 5841, 6970, 1834, 
    5644, 4596, 3560, 6256, 8112, 9709, 1938, 0, 10547, 7751, 3902, 7967, 2792, 
    5667, 6491, 8348, 5417, 3560, 1938, 10013, 10547, 0, 2796, 6644, 3043, 8218, 
    2871, 5046, 6607, 5055, 3917, 1957, 7711, 7751, 2796, 0, 3848, 5839, 5876, 
    1741, 3916, 5477, 2353, 4210, 5806, 5841, 3902, 6644, 3848, 0, 4820, 4746, 
    3078, 3448, 5305, 5263, 6603, 4981, 6970, 7967, 3043, 5839, 4820, 0, 5175, 
    3005, 1804, 3661, 5189, 7046, 7834, 1834, 2792, 8218, 5876, 4746, 5175, 0, 
};
char Galaxy_NextNode[] = {
    0, 1, 2, 3, 3, 9, 12, 10, 9, 9, 10, 11, 12, 
    0, 1, 2, 0, 0, 0, 6, 12, 11, 0, 0, 11, 12, 
    0, 1, 2, 0, 0, 0, 6, 7, 1, 0, 0, 1, 1, 
    0, 0, 0, 3, 4, 5, 0, 10, 4, 0, 10, 0, 0, 
    3, 3, 3, 3, 4, 5, 3, 3, 8, 5, 3, 8, 3, 
    9, 9, 9, 3, 4, 5, 9, 9, 8, 9, 9, 8, 9, 
    12, 1, 2, 12, 12, 12, 6, 7, 1, 12, 7, 1, 12, 
    10, 12, 2, 10, 10, 10, 6, 7, 10, 10, 10, 12, 12, 
    9, 11, 11, 4, 4, 5, 11, 9, 8, 9, 9, 11, 11, 
    0, 0, 0, 0, 5, 5, 0, 10, 8, 9, 10, 8, 0, 
    0, 0, 0, 3, 3, 9, 7, 7, 9, 9, 10, 0, 0, 
    0, 1, 1, 0, 8, 8, 1, 12, 8, 8, 0, 11, 12, 
    0, 1, 1, 0, 0, 0, 6, 7, 11, 0, 0, 11, 12, 
};
struct LevelDefinition Galaxy_Definition = {
    .maxPlayerCount = 2,
    .playerStartLocations = Galaxy_StartingPositions,
    .baseCount = 9,
    .decorCount = 10,
    .bases = Galaxy_Bases,
    .decor = Galaxy_Decor,
    .levelBoundaries = {{-5971.16, -4658.42}, {5449.5, 4302.31}},
    .sceneRender = Galaxy_model_gfx,
    .theme = &MarsTheme,
    .staticScene = {Galaxy_Boundary, 8},
    .pathfinding = {.nodeCount = 13, .baseNodes = Galaxy_BasesPathNodes, .nodeDistances = Galaxy_NodeDistances, .nodePositions = Galaxy_PathingNodes, .nextNode = Galaxy_NextNode},
};

