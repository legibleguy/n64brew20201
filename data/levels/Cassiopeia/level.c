#include "level.h"
#include "../../level_themes/Space/theme.h"
#include "sk64/skelatool_defs.h"
#include <ultra64.h>

Vtx Cassiopeia_GeometryWalls_color[] = {
    {{{-34, 0, 4147}, 0, {119, 2050}, {255, 194, 197, 255}}},
    {{{-34, 833, 4147}, 0, {119, -2}, {255, 194, 197, 255}}},
    {{{1426, 833, 4155}, 0, {-7405, -2}, {255, 194, 197, 255}}},
    {{{1426, 0, 4155}, 0, {-7405, 2050}, {255, 194, 197, 255}}},
    {{{-4434, 833, -3391}, 0, {-9507, -2}, {182, 255, 242, 255}}},
    {{{-4434, 0, -3391}, 0, {-9507, 2050}, {182, 255, 242, 255}}},
    {{{-2034, 0, -3405}, 0, {2306, 2050}, {182, 255, 242, 255}}},
    {{{-2034, 833, -3405}, 0, {2306, -2}, {182, 255, 242, 255}}},
    {{{3765, 833, 343}, 0, {7305, -2}, {255, 194, 197, 255}}},
    {{{1365, 833, 2329}, 0, {-4508, -2}, {255, 194, 197, 255}}},
    {{{1365, 0, 2329}, 0, {-4508, 2050}, {255, 194, 197, 255}}},
    {{{3765, 0, 343}, 0, {7305, 2050}, {255, 194, 197, 255}}},
    {{{1426, 0, 4155}, 0, {-7405, 2050}, {255, 194, 197, 255}}},
    {{{1426, 833, 4155}, 0, {-7405, -2}, {255, 194, 197, 255}}},
    {{{4765, 833, 1443}, 0, {9028, -2}, {255, 194, 197, 255}}},
    {{{4765, 0, 1443}, 0, {9028, 2050}, {255, 194, 197, 255}}},
    {{{-2034, 0, 1743}, 0, {-9725, 2050}, {255, 255, 255, 255}}},
    {{{-2034, 833, 1743}, 0, {-9725, -2}, {255, 255, 255, 255}}},
    {{{-34, 833, 1743}, 0, {119, -2}, {255, 194, 197, 255}}},
    {{{-34, 0, 1743}, 0, {119, 2050}, {255, 194, 197, 255}}},
    {{{-4434, 0, -756}, 0, {-3883, 2050}, {182, 255, 242, 255}}},
    {{{-4434, 833, -756}, 0, {-3883, -2}, {182, 255, 242, 255}}},
    {{{-2034, 833, 1743}, 0, {-6461, -2}, {255, 255, 255, 255}}},
    {{{-2034, 0, 1743}, 0, {-6461, 2050}, {255, 255, 255, 255}}},
    {{{-4434, 0, -3391}, 0, {9084, 2050}, {182, 255, 242, 255}}},
    {{{-4434, 833, -3391}, 0, {9084, -2}, {182, 255, 242, 255}}},
    {{{-4434, 833, -756}, 0, {-3883, -2}, {182, 255, 242, 255}}},
    {{{-4434, 0, -756}, 0, {-3883, 2050}, {182, 255, 242, 255}}},
    {{{-2034, 833, -770}, 0, {-9725, -2}, {182, 255, 242, 255}}},
    {{{-2034, 0, -770}, 0, {-9725, 2050}, {182, 255, 242, 255}}},
    {{{1365, 0, -770}, 0, {7011, 2050}, {255, 255, 255, 255}}},
    {{{1365, 833, -770}, 0, {7011, -2}, {255, 255, 255, 255}}},
    {{{-2034, 0, -3405}, 0, {7104, 2050}, {182, 255, 242, 255}}},
    {{{-2034, 0, -770}, 0, {-5863, 2050}, {182, 255, 242, 255}}},
    {{{-2034, 833, -770}, 0, {-5863, -2}, {182, 255, 242, 255}}},
    {{{-2034, 833, -3405}, 0, {7104, -2}, {182, 255, 242, 255}}},
    {{{4765, 0, 1443}, 0, {-4985, 2050}, {255, 194, 197, 255}}},
    {{{4765, 833, 1443}, 0, {-4985, -2}, {255, 194, 197, 255}}},
    {{{3765, 833, 343}, 0, {429, -2}, {255, 194, 197, 255}}},
    {{{3765, 0, 343}, 0, {429, 2050}, {255, 194, 197, 255}}},
    {{{1365, 0, -770}, 0, {5912, 2050}, {255, 255, 255, 255}}},
    {{{1365, 0, 2329}, 0, {-9347, 2050}, {255, 194, 197, 255}}},
    {{{1365, 833, 2329}, 0, {-9347, -2}, {255, 194, 197, 255}}},
    {{{1365, 833, -770}, 0, {5912, -2}, {255, 255, 255, 255}}},
    {{{-34, 0, 1743}, 0, {2498, 2050}, {255, 194, 197, 255}}},
    {{{-34, 833, 1743}, 0, {2498, -2}, {255, 194, 197, 255}}},
    {{{-34, 833, 4147}, 0, {-9338, -2}, {255, 194, 197, 255}}},
    {{{-34, 0, 4147}, 0, {-9338, 2050}, {255, 194, 197, 255}}},
};


Vtx Cassiopeia_GeometryFloor_color[] = {
    {{{3765, 0, 343}, 0, {5950, 976}, {255, 177, 180, 255}}},
    {{{1365, 0, 2329}, 0, {2617, 3734}, {255, 177, 180, 255}}},
    {{{1426, 0, 4155}, 0, {2702, 6270}, {255, 177, 180, 255}}},
    {{{4765, 0, 1443}, 0, {7338, 2503}, {255, 177, 180, 255}}},
    {{{-34, 0, 4147}, 0, {673, 6259}, {255, 178, 181, 255}}},
    {{{-34, 0, 1743}, 0, {673, 2920}, {255, 255, 255, 255}}},
    {{{1365, 0, -770}, 0, {2617, -570}, {255, 255, 255, 255}}},
    {{{-2034, 0, -770}, 0, {-2103, -570}, {182, 255, 242, 255}}},
    {{{-2034, 0, 1743}, 0, {-2103, 2920}, {255, 255, 255, 255}}},
    {{{-4434, 0, -756}, 0, {-5436, -551}, {182, 255, 242, 255}}},
    {{{-2034, 0, -3405}, 0, {-2103, -4228}, {183, 255, 242, 255}}},
    {{{-4434, 0, -3391}, 0, {-5436, -4209}, {184, 255, 242, 255}}},
};


Gfx Cassiopeia_model_gfx[] = {
    // Material SSWall
    gsSPDisplayList(Space_SSWall),
    // End Material SSWall
    gsSPVertex(&Cassiopeia_GeometryWalls_color[0], 32, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 6, 0, 4, 6, 7, 0),
    gsSP2Triangles(8, 9, 10, 0, 8, 10, 11, 0),
    gsSP2Triangles(12, 13, 14, 0, 12, 14, 15, 0),
    gsSP2Triangles(16, 17, 18, 0, 16, 18, 19, 0),
    gsSP2Triangles(20, 21, 22, 0, 20, 22, 23, 0),
    gsSP2Triangles(24, 25, 26, 0, 24, 26, 27, 0),
    gsSP2Triangles(28, 29, 30, 0, 28, 30, 31, 0),
    gsSPVertex(&Cassiopeia_GeometryWalls_color[32], 16, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 6, 0, 4, 6, 7, 0),
    gsSP2Triangles(8, 9, 10, 0, 8, 10, 11, 0),
    gsSP2Triangles(12, 13, 14, 0, 12, 14, 15, 0),
    // Material SSFloor
    gsSPDisplayList(Space_SSFloor),
    // End Material SSFloor
    gsSPVertex(&Cassiopeia_GeometryFloor_color[0], 12, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 2, 1, 0, 4, 1, 5, 0),
    gsSP2Triangles(1, 6, 5, 0, 5, 6, 7, 0),
    gsSP2Triangles(5, 7, 8, 0, 9, 8, 7, 0),
    gsSP2Triangles(7, 10, 11, 0, 7, 11, 9, 0),
    // Begin decor
    gsSPDisplayList(Space_Lockers),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 4, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_LockersDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 17, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_LockersDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Space_SSCrate),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 2, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 21, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 20, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 19, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 18, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 16, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 15, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 14, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Space_SetTextures2),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 0, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_ChairDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 6, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_ChairDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 7, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_ChairDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 8, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_ChairDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 1, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_ConsoleDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 9, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_ConsoleDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 13, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_Food_DishesDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 12, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_Food_DishesDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 11, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_Food_DishesDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 10, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_Food_DishesDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 3, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_Food_DishesDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 5, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Space_TableDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPEndDisplayList(),
};
struct BaseDefinition Cassiopeia_Bases[] = {
    {.position = {-3246.1, -2281.72}, .startingTeam = TEAM(0)},
    {.position = {3378.3, 1689.15}, .startingTeam = TEAM(1)},
    {.position = {-2078.9, 220.324}, .startingTeam = TEAM_NONE},
    {.position = {-7.85389, 440.648}, .startingTeam = TEAM_NONE},
    {.position = {814.688, 3025.78}, .startingTeam = TEAM_NONE},
};

struct Vector2 Cassiopeia_StartingPositions[] = {
    {-3246.1, -2281.72},
    {3378.3, 1689.15},
};

struct SceneBoundary Cassiopeia_Boundary[] = {
    {{-34.6764, 1743.09}, {-0, -1}, 2000},
    {{-2034.68, 1743.09}, {0.721387, -0.692532}, 3465.54},
    {{-4434.68, -756.907}, {1, 0}, 2634.34},
    {{-4434.68, -3391.24}, {0.00573955, 0.999984}, 2400.04},
    {{-2034.68, -3405.02}, {-1, 0}, 2634.34},
    {{-2034.68, -770.682}, {-0, 1}, 3400},
    {{1365.32, -770.682}, {-1, 0}, 3100},
    {{1365.32, 2329.32}, {0.637571, 0.770392}, 3115.3},
    {{3765.32, 343.093}, {-0.73994, 0.672673}, 1486.61},
    {{4765.32, 1443.09}, {-0.630593, -0.776114}, 4301.43},
    {{1426.93, 4155.54}, {0.00536747, -0.999986}, 1461.62},
    {{-34.6764, 4147.7}, {1, 0}, 2404.6},
};

struct DecorDefinition Cassiopeia_Decor[] = {
    {{-2331.79, 0, -1864.48}, {0, 0, 0, 1}, 1, CHAIR_DECOR_ID},
    {{-4295.63, 0, -2848.62}, {2.98023e-08, 0.707107, -8.9407e-08, 0.707107}, 1, CONSOLE_DECOR_ID},
    {{-1652.16, 0, 1505.04}, {0, 0, 0, 1}, 2, CRATE_DECOR_ID},
    {{892.246, 0, -543.644}, {0, 0, 0, 1}, 1, FOOD_DISHES_DECOR_ID},
    {{3932.83, 0, 751.595}, {-5.96046e-08, -0.400622, 0, 0.916243}, 1, LOCKERS_DECOR_ID},
    {{-2602.95, 0, -2321.13}, {0, 0, 0, 1}, 1, TABLE_DECOR_ID},
    {{-2335.3, 0, -2100.01}, {0, 0, 0, 1}, 1, CHAIR_DECOR_ID},
    {{-2317.72, 0, -2370.68}, {0, 0, 0, 1}, 1, CHAIR_DECOR_ID},
    {{-2310.69, 0, -2648.39}, {0, 0, 0, 1}, 1, CHAIR_DECOR_ID},
    {{-4295.63, 0, -1737}, {2.98023e-08, 0.707107, -8.9407e-08, 0.707107}, 1, CONSOLE_DECOR_ID},
    {{78.2748, 0, -555.793}, {0, 0, 0, 1}, 1, FOOD_DISHES_DECOR_ID},
    {{-826.812, 0, -543.644}, {0, 0, 0, 1}, 1, FOOD_DISHES_DECOR_ID},
    {{-797.655, 0, 1490.07}, {0, 0, 0, 1}, 1, FOOD_DISHES_DECOR_ID},
    {{1134.01, 0, 622.642}, {2.98023e-08, -0.707107, 8.9407e-08, 0.707107}, 1, FOOD_DISHES_DECOR_ID},
    {{-1652.16, 0, 1273.03}, {0, 0, 0, 1}, 2, CRATE_DECOR_ID},
    {{-1870.11, 0, 1280.06}, {0, 0, 0, 1}, 2, CRATE_DECOR_ID},
    {{-1877.14, 0, 1501.52}, {0, 0, 0, 1}, 2, CRATE_DECOR_ID},
    {{4399.47, 0, 1256.12}, {-5.96046e-08, -0.400622, 0, 0.916243}, 1, LOCKERS_DECOR_ID},
    {{153.157, 0, 3737.05}, {2.13163e-14, 1, -1.49012e-07, 1.94707e-07}, 2, CRATE_DECOR_ID},
    {{153.157, 0, 3969.06}, {2.13163e-14, 1, -1.49012e-07, 1.94707e-07}, 2, CRATE_DECOR_ID},
    {{371.104, 0, 3962.03}, {2.13163e-14, 1, -1.49012e-07, 1.94707e-07}, 2, CRATE_DECOR_ID},
    {{176.592, 200, 3916.33}, {2.13163e-14, 1, -1.49012e-07, 1.94707e-07}, 2, CRATE_DECOR_ID},
};
struct Vector3 Cassiopeia_PathingNodes[] = {
    {-2096.95, 0.0f, 207.563},
    {-3271.86, 0.0f, -2259.15},
    {811.116, 0.0f, 3015.4},
    {3356.54, 0.0f, 1659.59},
    {-19.8631, 0.0f, 452.483},
    {-2145.42, 0.0f, -588.428},
    {89.8403, 0.0f, 1615.85},
    {1239.73, 0.0f, 2490.57},
};
char Cassiopeia_BasesPathNodes[] = {
    1,
    3,
    0,
    4,
    2,
};
unsigned short Cassiopeia_NodeDistances[] = {
    0, 2732, 4175, 6319, 2091, 797, 2601, 4045, 
    2732, 0, 6728, 8873, 4381, 2014, 5154, 6599, 
    4175, 6728, 0, 2883, 2694, 4713, 1574, 677, 
    6319, 8873, 2883, 0, 4669, 6858, 3718, 2274, 
    2091, 4381, 2694, 4669, 0, 2366, 1168, 2395, 
    797, 2014, 4713, 6858, 2366, 0, 3139, 4584, 
    2601, 5154, 1574, 3718, 1168, 3139, 0, 1444, 
    4045, 6599, 677, 2274, 2395, 4584, 1444, 0, 
};
char Cassiopeia_NextNode[] = {
    0, 1, 6, 6, 4, 5, 6, 6, 
    0, 1, 5, 5, 5, 5, 5, 5, 
    6, 6, 2, 3, 4, 6, 6, 7, 
    7, 7, 2, 3, 7, 7, 7, 7, 
    0, 5, 2, 7, 4, 5, 6, 7, 
    0, 1, 6, 6, 4, 5, 6, 6, 
    0, 5, 2, 7, 4, 5, 6, 7, 
    6, 6, 2, 3, 4, 6, 6, 7, 
};
struct LevelDefinition Cassiopeia_Definition = {
    .maxPlayerCount = 2,
    .playerStartLocations = Cassiopeia_StartingPositions,
    .baseCount = 5,
    .decorCount = 22,
    .bases = Cassiopeia_Bases,
    .decor = Cassiopeia_Decor,
    .levelBoundaries = {{-4434.68, -3405.02}, {4765.32, 4155.54}},
    .sceneRender = Cassiopeia_model_gfx,
    .theme = &SpaceTheme,
    .staticScene = {Cassiopeia_Boundary, 12},
    .pathfinding = {.nodeCount = 8, .baseNodes = Cassiopeia_BasesPathNodes, .nodeDistances = Cassiopeia_NodeDistances, .nodePositions = Cassiopeia_PathingNodes, .nextNode = Cassiopeia_NextNode},
    .aiDifficulty = 0.3,
};

