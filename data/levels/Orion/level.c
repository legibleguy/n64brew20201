#include "level.h"
#include "../../level_themes/Mars/theme.h"
#include "sk64/skelatool_defs.h"
#include <ultra64.h>

Vtx Orion_GeometryWall_color[] = {
    {{{-5622, 0, -437}, 0, {266, 1104}, {203, 98, 97, 255}}},
    {{{-6397, 524, -440}, 0, {149, 1104}, {203, 98, 97, 255}}},
    {{{-4531, 524, 5804}, 0, {429, 1817}, {202, 93, 92, 255}}},
    {{{-3756, 0, 5149}, 0, {546, 1743}, {202, 93, 92, 255}}},
    {{{-4531, 524, 5804}, 0, {-1221, 4538}, {202, 93, 92, 255}}},
    {{{-6397, 524, -440}, 0, {-2133, 1484}, {203, 98, 97, 255}}},
    {{{-7395, 524, -425}, 0, {-2621, 1492}, {203, 98, 97, 255}}},
    {{{-5528, 524, 6502}, 0, {-1708, 4879}, {202, 93, 92, 255}}},
    {{{428, 524, 7818}, 0, {1204, 5523}, {202, 92, 91, 255}}},
    {{{425, 524, 7121}, 0, {1203, 5182}, {202, 92, 91, 255}}},
    {{{-3756, 0, 5149}, 0, {546, 1743}, {202, 93, 92, 255}}},
    {{{-4531, 524, 5804}, 0, {429, 1817}, {202, 93, 92, 255}}},
    {{{425, 524, 7121}, 0, {1174, 1968}, {202, 92, 91, 255}}},
    {{{425, 0, 6466}, 0, {1174, 1893}, {202, 92, 91, 255}}},
    {{{2929, 0, -1018}, 0, {1550, 1038}, {203, 98, 97, 255}}},
    {{{4472, 0, 4472}, 0, {1781, 1665}, {202, 93, 92, 255}}},
    {{{5247, 524, 5127}, 0, {1898, 1740}, {202, 93, 92, 255}}},
    {{{3703, 524, -973}, 0, {1666, 1043}, {203, 98, 97, 255}}},
    {{{5247, 524, 5127}, 0, {3561, 4207}, {202, 93, 92, 255}}},
    {{{426, 524, 7121}, 0, {1203, 5182}, {202, 92, 91, 255}}},
    {{{423, 524, 7818}, 0, {1201, 5523}, {202, 92, 91, 255}}},
    {{{6245, 524, 5824}, 0, {4049, 4548}, {202, 93, 92, 255}}},
    {{{4698, 524, -898}, 0, {3292, 1260}, {203, 98, 97, 255}}},
    {{{3703, 524, -973}, 0, {2806, 1223}, {203, 98, 97, 255}}},
    {{{4472, 0, 4472}, 0, {1781, 1665}, {202, 93, 92, 255}}},
    {{{425, 0, 6466}, 0, {1174, 1893}, {202, 92, 91, 255}}},
    {{{426, 524, 7121}, 0, {1174, 1968}, {202, 92, 91, 255}}},
    {{{5247, 524, 5127}, 0, {1898, 1740}, {202, 93, 92, 255}}},
    {{{-5622, 0, -437}, 0, {266, 1104}, {203, 98, 97, 255}}},
    {{{-4298, 0, -6369}, 0, {464, 426}, {202, 93, 92, 255}}},
    {{{-5073, 524, -7024}, 0, {348, 351}, {202, 93, 92, 255}}},
    {{{-6397, 524, -434}, 0, {149, 1104}, {203, 98, 97, 255}}},
    {{{-5073, 524, -7024}, 0, {-1486, -1735}, {202, 93, 92, 255}}},
    {{{-1166, 524, -9406}, 0, {424, -2899}, {202, 92, 91, 255}}},
    {{{-1231, 524, -10100}, 0, {392, -3239}, {202, 92, 91, 255}}},
    {{{-6070, 524, -7721}, 0, {-1973, -2076}, {202, 93, 92, 255}}},
    {{{-7395, 524, -449}, 0, {-2621, 1480}, {203, 98, 97, 255}}},
    {{{-6397, 524, -434}, 0, {-2133, 1487}, {203, 98, 97, 255}}},
    {{{-4298, 0, -6369}, 0, {464, 426}, {202, 93, 92, 255}}},
    {{{-1103, 0, -8754}, 0, {944, 153}, {202, 92, 91, 255}}},
    {{{-1166, 524, -9406}, 0, {935, 79}, {202, 92, 91, 255}}},
    {{{-5073, 524, -7024}, 0, {348, 351}, {202, 93, 92, 255}}},
    {{{2929, 0, -1018}, 0, {1550, 1038}, {203, 98, 97, 255}}},
    {{{3703, 524, -968}, 0, {1666, 1043}, {203, 98, 97, 255}}},
    {{{5131, 524, -5456}, 0, {1880, 530}, {202, 93, 92, 255}}},
    {{{4356, 0, -4801}, 0, {1764, 605}, {202, 93, 92, 255}}},
    {{{5131, 524, -5456}, 0, {3504, -968}, {202, 93, 92, 255}}},
    {{{3703, 524, -968}, 0, {2806, 1226}, {203, 98, 97, 255}}},
    {{{4699, 524, -922}, 0, {3293, 1248}, {203, 98, 97, 255}}},
    {{{6129, 524, -6153}, 0, {3992, -1309}, {202, 93, 92, 255}}},
    {{{-1236, 524, -10099}, 0, {390, -3239}, {202, 92, 91, 255}}},
    {{{-1166, 524, -9406}, 0, {424, -2899}, {202, 92, 91, 255}}},
    {{{4356, 0, -4801}, 0, {1764, 605}, {202, 93, 92, 255}}},
    {{{5131, 524, -5456}, 0, {1880, 530}, {202, 93, 92, 255}}},
    {{{-1166, 524, -9406}, 0, {935, 79}, {202, 92, 91, 255}}},
    {{{-1103, 0, -8754}, 0, {944, 153}, {202, 92, 91, 255}}},
};


Vtx Orion_GeometryGround_color[] = {
    {{{-3071, 0, -5496}, 0, {-2800, -6083}, {255, 223, 163, 255}}},
    {{{-619, 0, -3996}, 0, {1062, -3720}, {255, 155, 168, 255}}},
    {{{1364, 0, -4899}, 0, {4188, -5143}, {255, 223, 163, 255}}},
    {{{3042, 0, 3659}, 0, {6831, 8340}, {255, 223, 163, 255}}},
    {{{119, 0, 2159}, 0, {2226, 5977}, {255, 155, 168, 255}}},
    {{{-1832, 0, 4627}, 0, {-848, 9865}, {255, 223, 163, 255}}},
    {{{425, 0, 6466}, 0, {2709, 12762}, {255, 155, 168, 255}}},
    {{{-3756, 0, 5149}, 0, {-3878, 10688}, {255, 155, 168, 255}}},
    {{{4472, 0, 4472}, 0, {9084, 9621}, {255, 155, 168, 255}}},
    {{{119, 0, 207}, 0, {2226, 2902}, {255, 158, 168, 255}}},
    {{{-832, 0, 78}, 0, {727, 2699}, {255, 223, 163, 255}}},
    {{{409, 0, -986}, 0, {2684, 1021}, {255, 222, 163, 255}}},
    {{{-2042, 0, -2}, 0, {-1178, 2572}, {255, 155, 168, 255}}},
    {{{-3132, 0, 2894}, 0, {-2896, 7136}, {255, 155, 168, 255}}},
    {{{-409, 0, -1818}, 0, {1393, -289}, {255, 155, 168, 255}}},
    {{{-3571, 0, -3754}, 0, {-3587, -3339}, {255, 155, 168, 255}}},
    {{{2929, 0, -1018}, 0, {6653, 971}, {255, 155, 168, 255}}},
    {{{4423, 0, -4828}, 0, {8901, -4988}, {255, 155, 168, 255}}},
    {{{-1076, 0, -8821}, 0, {300, -11088}, {255, 155, 168, 255}}},
    {{{-4298, 0, -6369}, 0, {-4732, -7458}, {255, 155, 168, 255}}},
    {{{-5622, 0, -437}, 0, {-6818, 1886}, {255, 155, 168, 255}}},
};


Gfx Orion_model_gfx[] = {
    // Material Ground
    gsSPDisplayList(Mars_Ground),
    // End Material Ground
    gsSPVertex(&Orion_GeometryWall_color[0], 32, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 6, 0, 7, 4, 6, 0),
    gsSP2Triangles(4, 7, 8, 0, 9, 4, 8, 0),
    gsSP2Triangles(10, 11, 12, 0, 10, 12, 13, 0),
    gsSP2Triangles(14, 15, 16, 0, 14, 16, 17, 0),
    gsSP2Triangles(18, 19, 20, 0, 21, 18, 20, 0),
    gsSP2Triangles(18, 21, 22, 0, 23, 18, 22, 0),
    gsSP2Triangles(24, 25, 26, 0, 24, 26, 27, 0),
    gsSP2Triangles(28, 29, 30, 0, 28, 30, 31, 0),
    gsSPVertex(&Orion_GeometryWall_color[32], 24, 0),
    gsSP2Triangles(0, 1, 2, 0, 3, 0, 2, 0),
    gsSP2Triangles(0, 3, 4, 0, 5, 0, 4, 0),
    gsSP2Triangles(6, 7, 8, 0, 6, 8, 9, 0),
    gsSP2Triangles(10, 11, 12, 0, 10, 12, 13, 0),
    gsSP2Triangles(14, 15, 16, 0, 17, 14, 16, 0),
    gsSP2Triangles(14, 17, 18, 0, 19, 14, 18, 0),
    gsSP2Triangles(20, 21, 22, 0, 20, 22, 23, 0),
    // Material Ground
    gsSPDisplayList(Mars_Ground),
    // End Material Ground
    gsSPVertex(&Orion_GeometryGround_color[0], 21, 0),
    gsSP2Triangles(0, 1, 2, 0, 3, 4, 5, 0),
    gsSP2Triangles(6, 5, 7, 0, 5, 6, 3, 0),
    gsSP2Triangles(6, 8, 3, 0, 4, 9, 10, 0),
    gsSP2Triangles(4, 10, 5, 0, 3, 11, 9, 0),
    gsSP2Triangles(3, 9, 4, 0, 12, 13, 5, 0),
    gsSP2Triangles(12, 5, 10, 0, 10, 9, 11, 0),
    gsSP2Triangles(10, 14, 1, 0, 10, 1, 0, 0),
    gsSP2Triangles(12, 10, 0, 0, 12, 0, 15, 0),
    gsSP2Triangles(11, 14, 10, 0, 11, 2, 1, 0),
    gsSP2Triangles(11, 1, 14, 0, 16, 11, 3, 0),
    gsSP2Triangles(16, 3, 8, 0, 17, 2, 11, 0),
    gsSP2Triangles(17, 11, 16, 0, 18, 2, 17, 0),
    gsSP2Triangles(2, 18, 0, 0, 18, 19, 0, 0),
    gsSP2Triangles(5, 13, 7, 0, 0, 19, 15, 0),
    gsSP2Triangles(19, 20, 15, 0, 15, 20, 12, 0),
    gsSP2Triangles(7, 13, 20, 0, 13, 12, 20, 0),
    // Begin decor
    gsSPDisplayList(Mars_Crate),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 4, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 12, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 13, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_CrateDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Mars_Rock),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 1, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock001DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 2, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock003DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 9, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock003DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 0, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_Rock004DisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPDisplayList(Mars_SetTextures1),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 3, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_ConsoleBDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 5, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_ConsolesDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 6, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_DishDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 7, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_DishBaseDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 8, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_SearchlightDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 10, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_SearchlightDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPMatrix((Mtx*)MATRIX_TRANSFORM_SEGMENT_ADDRESS + 11, G_MTX_MODELVIEW | G_MTX_MUL | G_MTX_PUSH),
    gsSPDisplayList(Mars_SearchlightDisplayList),
    gsSPPopMatrix(G_MTX_MODELVIEW),
    gsSPEndDisplayList(),
};
struct BaseDefinition Orion_Bases[] = {
    {.position = {-2471.29, 4090.76}, .startingTeam = TEAM(0)},
    {.position = {1393.73, -4897.41}, .startingTeam = TEAM(1)},
    {.position = {-4032.78, -3861.97}, .startingTeam = TEAM(2)},
    {.position = {3142.34, 2990.44}, .startingTeam = TEAM(3)},
    {.position = {-167.867, -483.934}, .startingTeam = TEAM_NONE},
    {.position = {893.561, -806.556}, .startingTeam = TEAM_NONE},
    {.position = {-1364.8, -203.252}, .startingTeam = TEAM_NONE},
};

struct Vector2 Orion_StartingPositions[] = {
    {-2471.29, 4090.76},
    {1393.73, -4897.41},
    {-4032.78, -3861.97},
    {3142.34, 2990.44},
};

struct SceneBoundary Orion_Boundary[] = {
    {{-4298.18, -6369.41}, {0.598137, 0.801394}, 3986.92},
    {{-1103.08, -8754.14}, {-0.586448, 0.809987}, 6740.02},
    {{4356.25, -4801.47}, {-0.935679, -0.352853}, 4043.29},
    {{2929.56, -1018.24}, {-0.962715, 0.270516}, 5703.28},
    {{4472.39, 4472.39}, {-0.441982, -0.897024}, 4511.06},
    {{425.862, 6466.2}, {0.300231, -0.953867}, 4384.29},
    {{-3756.17, 5149.9}, {0.9485, -0.316776}, 5890.75},
    {{-5622.22, -437.476}, {0.975983, 0.217845}, 6077.91},
};

struct DecorDefinition Orion_Decor[] = {
    {{-5661.64, 0, -581.058}, {0, 0, 0, 1}, 1, ROCK004_DECOR_ID},
    {{2920.12, 0, -886.822}, {5.06639e-07, 0.705423, -5.06639e-07, 0.708786}, 1, ROCK001_DECOR_ID},
    {{539.169, 0, 3755.3}, {-8.9407e-08, -0.459793, -2.98023e-08, 0.888026}, 1, ROCK003_DECOR_ID},
    {{-4263.51, 0, -2584.68}, {-2.98023e-08, -0.110969, -3.72529e-09, 0.993824}, 1, CONSOLEB_DECOR_ID},
    {{-3258.29, 0, 3110.55}, {0, 0, 0, 1}, 1, CRATE_DECOR_ID},
    {{-16.4455, 0, 2020.19}, {5.96046e-08, 0.0113608, -1.39698e-09, 0.999935}, 1, CONSOLES_DECOR_ID},
    {{-162.374, 61.3509, -6894.65}, {-7.45058e-09, 0.976799, -2.98023e-08, -0.214157}, 1, DISH_DECOR_ID},
    {{-3745.66, 0, 2284.21}, {0, 0, 0, 1}, 1, DISHBASE_DECOR_ID},
    {{1879.63, 0, -3533.93}, {0, -0.0694965, 0, 0.997582}, 1, SEARCHLIGHT_DECOR_ID},
    {{-870.692, 0, -4397.37}, {0, -0.147572, 0, 0.989051}, 0.8267, ROCK003_DECOR_ID},
    {{1911.89, 0, -2727.38}, {0, -0.0694965, 0, 0.997582}, 1, SEARCHLIGHT_DECOR_ID},
    {{1960.28, 0, -2033.74}, {0, -0.0694965, 0, 0.997582}, 1, SEARCHLIGHT_DECOR_ID},
    {{-3468, 0, 2820.19}, {0, 0, 0, 1}, 1, CRATE_DECOR_ID},
    {{-3032.46, 0, 2771.79}, {0, 0, 0, 1}, 1, CRATE_DECOR_ID},
};
struct Vector3 Orion_PathingNodes[] = {
    {-1367.87, 0.0f, -164.59},
    {-4029.5, 0.0f, -3868.19},
    {-742.032, 0.0f, -3529.44},
    {1400.13, 0.0f, -4884.45},
    {-141.902, 0.0f, -503.343},
    {922.753, 0.0f, -809.835},
    {-2400.26, 0.0f, 4061.77},
    {301.704, 0.0f, 2714.82},
    {3116.59, 0.0f, 2980.98},
    {1706.62, 0.0f, -690.36},
};
char Orion_BasesPathNodes[] = {
    6,
    3,
    1,
    8,
    4,
    5,
    0,
};
unsigned short Orion_NodeDistances[] = {
    0, 4560, 3422, 5471, 1271, 2379, 4350, 5958, 5477, 9410, 
    4560, 0, 3304, 5839, 5141, 5820, 8095, 9399, 9912, 10044, 
    3422, 3304, 0, 2534, 3085, 3188, 7773, 6767, 7568, 6740, 
    5471, 5839, 2534, 0, 4644, 4102, 9737, 7681, 8138, 4205, 
    1271, 5141, 3085, 4644, 0, 1107, 5093, 4686, 4770, 8703, 
    2379, 5820, 3188, 4102, 1107, 0, 5897, 3578, 4379, 8307, 
    4350, 8095, 7773, 9737, 5093, 5897, 0, 3019, 5846, 9779, 
    5958, 9399, 6767, 7681, 4686, 3578, 3019, 0, 2827, 6760, 
    5477, 9912, 7568, 8138, 4770, 4379, 5846, 2827, 0, 3932, 
    9410, 10044, 6740, 4205, 8703, 8307, 9779, 6760, 3932, 0, 
};
char Orion_NextNode[] = {
    0, 1, 2, 3, 4, 4, 6, 4, 8, 8, 
    0, 1, 2, 2, 4, 5, 6, 5, 4, 2, 
    0, 1, 2, 3, 4, 5, 0, 5, 5, 3, 
    0, 2, 2, 3, 4, 5, 4, 5, 9, 9, 
    0, 1, 2, 3, 4, 5, 6, 5, 8, 8, 
    4, 1, 2, 3, 4, 5, 6, 7, 8, 3, 
    0, 1, 0, 4, 4, 5, 6, 7, 7, 7, 
    5, 5, 5, 5, 5, 5, 6, 7, 8, 8, 
    0, 4, 5, 9, 4, 5, 7, 7, 8, 9, 
    8, 3, 3, 3, 8, 3, 8, 8, 8, 9, 
};
struct LevelDefinition Orion_Definition = {
    .maxPlayerCount = 4,
    .playerStartLocations = Orion_StartingPositions,
    .baseCount = 7,
    .decorCount = 14,
    .bases = Orion_Bases,
    .decor = Orion_Decor,
    .levelBoundaries = {{-5622.22, -8754.14}, {4472.39, 6466.2}},
    .sceneRender = Orion_model_gfx,
    .theme = &MarsTheme,
    .staticScene = {Orion_Boundary, 8},
    .pathfinding = {.nodeCount = 10, .baseNodes = Orion_BasesPathNodes, .nodeDistances = Orion_NodeDistances, .nodePositions = Orion_PathingNodes, .nextNode = Orion_NextNode},
    .aiDifficulty = 0.7,
};

